"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r,e=(r=require("axios"))&&"object"==typeof r&&"default"in r?r.default:r;function t(){t=function(){return r};var r={},e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{u({},"")}catch(r){u=function(r,e,t){return r[e]=t}}function c(r,e,t,n){var o=Object.create((e&&e.prototype instanceof p?e:p).prototype),a=new q(n||[]);return o._invoke=function(r,e,t){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(t.method=o,t.arg=a;;){var i=t.delegate;if(i){var s=m(i,t);if(s){if(s===f)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===n)throw n="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n="executing";var u=h(r,e,t);if("normal"===u.type){if(n=t.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(n="completed",t.method="throw",t.arg=u.arg)}}}(r,t,a),o}function h(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(r){return{type:"throw",arg:r}}}r.wrap=c;var f={};function p(){}function d(){}function w(){}var l={};u(l,a,(function(){return this}));var k=Object.getPrototypeOf,v=k&&k(k(A([])));v&&v!==e&&n.call(v,a)&&(l=v);var x=w.prototype=p.prototype=Object.create(l);function y(r){["next","throw","return"].forEach((function(e){u(r,e,(function(r){return this._invoke(e,r)}))}))}function b(r,e){var t;this._invoke=function(o,a){function i(){return new e((function(t,i){!function t(o,a,i,s){var u=h(r[o],r,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(r){t("next",r,i,s)}),(function(r){t("throw",r,i,s)})):e.resolve(f).then((function(r){c.value=r,i(c)}),(function(r){return t("throw",r,i,s)}))}s(u.arg)}(o,a,t,i)}))}return t=t?t.then(i,i):i()}}function m(r,e){var t=r.iterator[e.method];if(void 0===t){if(e.delegate=null,"throw"===e.method){if(r.iterator.return&&(e.method="return",e.arg=void 0,m(r,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=h(t,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function g(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function E(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function q(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(g,this),this.reset(!0)}function A(r){if(r){var e=r[a];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var t=-1,o=function e(){for(;++t<r.length;)if(n.call(r,t))return e.value=r[t],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:W}}function W(){return{value:void 0,done:!0}}return d.prototype=w,u(x,"constructor",w),u(w,"constructor",d),d.displayName=u(w,s,"GeneratorFunction"),r.isGeneratorFunction=function(r){var e="function"==typeof r&&r.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,w):(r.__proto__=w,u(r,s,"GeneratorFunction")),r.prototype=Object.create(x),r},r.awrap=function(r){return{__await:r}},y(b.prototype),u(b.prototype,i,(function(){return this})),r.AsyncIterator=b,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var i=new b(c(e,t,n,o),a);return r.isGeneratorFunction(t)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},y(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),r.keys=function(r){var e=[];for(var t in r)e.push(t);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=A,q.prototype={constructor:q,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!r)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function t(t,n){return i.type="throw",i.arg=r,e.next=t,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(r,e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===r||"continue"===r)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=r,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(r,e){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&e&&(this.next=e),f},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===r)return this.complete(t.completion,t.afterLoc),E(t),f}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===r){var n=t.completion;if("throw"===n.type){var o=n.arg;E(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(r,e,t){return this.delegate={iterator:A(r),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),f}},r}function n(r,e,t,n,o,a,i){try{var s=r[a](i),u=s.value}catch(r){return void t(r)}s.done?e(u):Promise.resolve(u).then(n,o)}function o(r){return function(){var e=this,t=arguments;return new Promise((function(o,a){var i=r.apply(e,t);function s(r){n(i,o,a,s,u,"next",r)}function u(r){n(i,o,a,s,u,"throw",r)}s(void 0)}))}}function a(){return(a=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}var i=function(){var r=o(t().mark((function r(n,o,a){var i,s,u;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={},a&&(i.Authorization="Bearer "+a),r.prev=2,r.next=5,e.post("https://orchestrator.grindery.org",{jsonrpc:"2.0",method:n,id:new Date,params:o},{headers:i});case 5:if(!((s=r.sent)&&s.data&&s.data.result)){r.next=10;break}return r.abrupt("return",s.data.result);case 10:throw new Error("Unknown error");case 11:r.next=22;break;case 13:if(r.prev=13,r.t0=r.catch(2),!e.isAxiosError(r.t0)){r.next=21;break}if(!((u=r.t0).response&&u.response.data&&u.response.data.error)){r.next=19;break}throw new Error(u.response.data.error.message);case 19:r.next=22;break;case 21:throw new Error(r.t0.message);case 22:case"end":return r.stop()}}),r,null,[[2,13]])})));return function(e,t,n){return r.apply(this,arguments)}}(),s=function(){var r=o(t().mark((function r(n,o,a,i){var s,u,c;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s={},i&&(s.Authorization="Bearer "+i),r.prev=2,r.next=5,e.request({method:n,url:"https://orchestrator.grindery.org"+o,data:a,headers:s});case 5:if(!((u=r.sent)&&u.data&&u.data.result)){r.next=10;break}return r.abrupt("return",u.data.result);case 10:throw new Error("Unknown error");case 11:r.next=22;break;case 13:if(r.prev=13,r.t0=r.catch(2),!e.isAxiosError(r.t0)){r.next=21;break}if(!((c=r.t0).response&&c.response.data&&c.response.data.error)){r.next=19;break}throw new Error(c.response.data.error.message);case 19:r.next=22;break;case 21:throw new Error(r.t0.message);case 22:case"end":return r.stop()}}),r,null,[[2,13]])})));return function(e,t,n,o){return r.apply(this,arguments)}}();exports.default=function(){function r(){this.token=null}var n=r.prototype;return n.authenticate=function(r){if(!r)throw new Error("Token required");this.token=r},n.getToken=function(){if(!this.token)throw new Error("Authentication required");return this.token},n.createWorkflow=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workflow object is required");case 4:if(e.creator){r.next=6;break}throw new Error("Workflow creator is required");case 6:return r.next=8,i("or_createWorkflow",a({workflow:e},void 0!==n&&{workspaceKey:n}),this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.listWorkflows=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:return r.next=4,i("or_listWorkflows",a({},void 0!==e&&{workspaceKey:e}),this.token);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.updateWorkflow=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workflow key is required");case 4:if(n&&n.creator){r.next=6;break}throw new Error("Workflow creator is required");case 6:return r.next=8,i("or_updateWorkflow",{key:e,workflow:n},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.getWorkflowExecutions=function(){var r=o(t().mark((function r(e,n,o,s){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workflow key is required");case 4:return r.next=6,i("or_getWorkflowExecutions",a({workflowKey:e},void 0!==n&&{since:n},void 0!==o&&{until:o},void 0!==s&&{limit:s}),this.token);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(e,t,n,o){return r.apply(this,arguments)}}(),n.getWorkflowExecutionLog=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workflow execution ID is required");case 4:return r.next=6,i("or_getWorkflowExecutionLog",{executionId:e},this.token);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.isAllowedUser=function(){var r=o(t().mark((function r(){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:return r.next=4,i("or_isAllowedUser",{},this.token);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),n.testAction=function(){var r=o(t().mark((function r(e,n,o){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workflow step object is required");case 4:if(n){r.next=6;break}throw new Error("Sample input object is required");case 6:return r.next=8,i("or_testAction",{step:e,input:n,environment:o||"production"},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t,n){return r.apply(this,arguments)}}(),n.getConnectors=function(){var r=o(t().mark((function r(){var n,o,i,s,u,c,h;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=[],r.next=3,e.get("https://api.github.com/repos/grindery-io/grindery-nexus-schema-v2/contents/cds/web2");case 3:o=r.sent,i=0;case 5:if(!(i<o.data.length)){r.next=16;break}if(!(s=o.data[i].download_url)){r.next=13;break}return r.t0=n,r.next=11,e.get(s);case 11:r.t1=r.sent,r.t0.push.call(r.t0,r.t1);case 13:i++,r.next=5;break;case 16:return r.next=18,e.get("https://api.github.com/repos/grindery-io/grindery-nexus-schema-v2/contents/cds/web3");case 18:u=r.sent,c=0;case 20:if(!(c<u.data.length)){r.next=31;break}if(!(h=u.data[c].download_url)){r.next=28;break}return r.t2=n,r.next=26,e.get(h);case 26:r.t3=r.sent,r.t2.push.call(r.t2,r.t3);case 28:c++,r.next=20;break;case 31:return r.abrupt("return",n.filter((function(r){return r&&r.data})).map((function(r){return a({},r.data,{html_url:Array.isArray(u.data)&&u.data.find((function(e){return e.name&&e.name.includes(r.data.key)}))&&u.data.find((function(e){return e.name&&e.name.includes(r.data.key)})).html_url||Array.isArray(o.data)&&o.data.find((function(e){return e.name&&e.name.includes(r.data.key)}))&&o.data.find((function(e){return e.name&&e.name.includes(r.data.key)})).html_url||""})})));case 32:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),n.deleteWorkflow=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workflow key is required");case 4:return r.next=6,i("or_deleteWorkflow",{key:e},this.token);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.requestEarlyAccess=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Email is required");case 4:if(/^[^\s@]+@([^\s@.,]+\.)+[^\s@.,]{2,}$/.test(e)){r.next=6;break}throw new Error("Invalid email");case 6:return r.next=8,i("or_requestEarlyAccess",{email:e},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.saveWalletAddress=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Wallet address is required");case 4:if(!n||/^[^\s@]+@([^\s@.,]+\.)+[^\s@.,]{2,}$/.test(n)){r.next=6;break}throw new Error("Invalid email");case 6:return r.next=8,i("or_saveWalletAddress",{email:n,walletAddress:e},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.callInputProvider=function(){var r=o(t().mark((function r(e,n,o,a){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Connector key is required");case 4:if(n){r.next=6;break}throw new Error("Operation key is required");case 6:if(o){r.next=8;break}throw new Error("JSON RPC request object is required");case 8:if(o.method&&"grinderyNexusConnectorUpdateFields"===o.method){r.next=10;break}throw new Error('JSON RPC request object must have "method" property with value "grinderyNexusConnectorUpdateFields"');case 10:if(o.jsonrpc&&"2.0"===o.jsonrpc){r.next=12;break}throw new Error("JSON RPC request object must have 2.0 version");case 12:if(o.params&&o.params.key){r.next=14;break}throw new Error('JSON RPC request object must have "params" property with operation key specified');case 14:if(o.params.key===n){r.next=16;break}throw new Error('JSON RPC request object params "key" property must be equal to operationKey');case 16:return r.next=18,s("POST","/input-provider/"+e+"/"+n+(a?"?_grinderyEnvironment="+a:""),o,this.token);case 18:return r.abrupt("return",r.sent);case 19:case"end":return r.stop()}}),r,this)})));return function(e,t,n,o){return r.apply(this,arguments)}}(),n.callWebhook=function(){var r=o(t().mark((function r(e,n,o,a){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}throw new Error("Connector key is required");case 2:if(n){r.next=4;break}throw new Error("Operation key is required");case 4:if(o){r.next=6;break}throw new Error("Body object is required");case 6:return r.next=8,s("POST","/webhook/"+e+"/"+n+(a?"?_grinderyEnvironment="+a:""),o);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r)})));return function(e,t,n,o){return r.apply(this,arguments)}}(),n.listDrivers=function(){var r=o(t().mark((function r(n){var o,i;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o="https://cds.grindery.org/_index.json",n&&"staging"===n&&(o="https://cds-staging.grindery.org/_index.json"),r.next=4,e.get(o).catch((function(){return null}));case 4:if(!(i=r.sent)||!i.data){r.next=9;break}return r.abrupt("return",Object.keys(i.data).map((function(r){return a({},i.data[r])})));case 9:return r.abrupt("return",[]);case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),n.getDriver=function(){var r=o(t().mark((function r(n,o){var a,i;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Driver key required");case 2:return a="https://cds.grindery.org/"+n+".json",o&&"staging"===o&&(a="https://cds-staging.grindery.org/"+n+".json"),r.next=6,e.get(a).catch((function(){return null}));case 6:if(!(i=r.sent)||!i.data){r.next=11;break}return r.abrupt("return",i.data);case 11:return r.abrupt("return",null);case 12:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),n.listWorkspaces=function(){var r=o(t().mark((function r(){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:return r.next=4,i("or_listWorkspaces",{},this.token);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),n.createWorkspace=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e.title){r.next=4;break}throw new Error("Workspace title is required");case 4:return r.next=6,i("or_createWorkspace",e,this.token);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.updateWorkspace=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e.key){r.next=4;break}throw new Error("Workspace key is required");case 4:if(!e.admins||Array.isArray(e.admins)){r.next=6;break}throw new Error("Admins must be an array");case 6:if(!e.users||Array.isArray(e.users)){r.next=8;break}throw new Error("Users must be an array");case 8:return r.next=10,i("or_updateWorkspace",e,this.token);case 10:return r.abrupt("return",r.sent);case 11:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.leaveWorkspace=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workspace key is required");case 4:return r.next=6,i("or_leaveWorkspace",{key:e},this.token);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.deleteWorkspace=function(){var r=o(t().mark((function r(e){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workspace key is required");case 4:return r.next=6,i("or_deleteWorkspace",{key:e},this.token);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),n.moveWorkflowToWorkspace=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workflow key is required");case 4:return r.next=6,i("or_moveWorkflowToWorkspace",{key:e,newWorkspaceKey:n},this.token);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.addUserToWorkspace=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workspace key is required");case 4:if(n){r.next=6;break}throw new Error("User ID is required");case 6:return r.next=8,i("or_workspaceAddUser",{key:e,accountId:n},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.removeUserFromWorkspace=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workspace key is required");case 4:if(n){r.next=6;break}throw new Error("User ID is required");case 6:return r.next=8,i("or_workspaceRemoveUser",{key:e,accountId:n},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.addAdminToWorkspace=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workspace key is required");case 4:if(n){r.next=6;break}throw new Error("User ID is required");case 6:return r.next=8,i("or_workspaceAddAdmin",{key:e,accountId:n},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.removeAdminFromWorkspace=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Workspace key is required");case 4:if(n){r.next=6;break}throw new Error("User ID is required");case 6:return r.next=8,i("or_workspaceRemoveAdmin",{key:e,accountId:n},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.listAuthCredentials=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Connector ID is required");case 4:if(n){r.next=6;break}throw new Error("Environment is required");case 6:return r.next=8,i("or_listAuthCredentials",{connectorId:e,environment:n},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.updateAuthCredentials=function(){var r=o(t().mark((function r(e,n){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Credential key is required");case 4:if(n){r.next=6;break}throw new Error("Display name is required");case 6:return r.next=8,i("or_updateAuthCredentials",{key:e,displayName:n},this.token);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})));return function(e,t){return r.apply(this,arguments)}}(),n.putConnectorSecrets=function(){var r=o(t().mark((function r(e,n,o){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.token){r.next=2;break}throw new Error("Authentication required");case 2:if(e){r.next=4;break}throw new Error("Connector ID is required");case 4:if(n){r.next=6;break}throw new Error("Secrets object is required");case 6:if(o){r.next=8;break}throw new Error("Environment is required");case 8:return r.next=10,i("or_putConnectorSecrets",{connectorId:e,secrets:n,environment:o},this.token);case 10:return r.abrupt("return",r.sent);case 11:case"end":return r.stop()}}),r,this)})));return function(e,t,n){return r.apply(this,arguments)}}(),r}();
//# sourceMappingURL=grindery-nexus-client.cjs.production.min.js.map
